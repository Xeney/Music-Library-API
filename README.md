# üéµ Online Music Library API (Go)

REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π –ø–µ—Å–µ–Ω —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤–Ω–µ—à–Ω–µ–≥–æ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.  
**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ**: [–¢–ó Effective Mobile GO.pdf](–¢–ó%20Effective%20Mobile%20GO.pdf)

---

## üöÄ Features
- üìå **CRUD –æ–ø–µ—Ä–∞—Ü–∏–π** —Å –ø–µ—Å–Ω—è–º–∏ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- üîç **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è** –ø–æ –≤—Å–µ–º –ø–æ–ª—è–º
- ‚ô™ **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–µ—Å–Ω–∏** —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –ø–æ –∫—É–ø–ª–µ—Ç–∞–º
- üåê **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º API** –¥–ª—è –æ–±–æ–≥–∞—â–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (release date, —Ç–µ–∫—Å—Ç, YouTube-—Å—Å—ã–ª–∫–∞)
- üêò **–ê–≤—Ç–æ–º–∏–≥—Ä–∞—Ü–∏–∏ PostgreSQL** –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞
- üìù **Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
- ‚öô **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ .env**

---

## üì¶ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç       | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏                          |
|-----------------|-------------------------------------|
| –§—Ä–µ–π–º–≤–æ—Ä–∫       | `chi` + `render`                    |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö     | PostgreSQL + `golang-migrate`       |
| –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ     | `slog` (structured logging)         |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è    | `.env` + `github.com/caarlos0/env`  |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è    | `swaggo/swag`                       |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ    | `httptest` + `testcontainers`       |

---

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**:
   ```bash
   git clone https://github.com/Xeney/Music-Library-API.git
   cd Music-Library-API
   ```

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ**:
   - –°–æ–∑–¥–∞—Ç—å `.env` —Ñ–∞–π–ª (—Å–º. [.env.example](.env.example)):
     ```ini
     DB_HOST=localhost
     DB_PORT=5432
     DB_USER=postgres
     DB_PASSWORD=postgres
     DB_NAME=Music-Library-API
     EXTERNAL_API_URL=http://Music-Library-API-info:8080/info
     ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL**:
   ```bash
   docker-compose up -d
   ```

4. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏**:
   ```bash
   make migrate-up
   ```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å**:
   ```bash
   go run cmd/main.go
   ```

---

## üìö API Endpoints
| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å                   | –û–ø–∏—Å–∞–Ω–∏–µ                          |
|-------|-------------------------|-----------------------------------|
| GET   | `/songs`                | –°–ø–∏—Å–æ–∫ –ø–µ—Å–µ–Ω (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è + –ø–∞–≥–∏–Ω–∞—Ü–∏—è) |
| GET   | `/songs/{id}/lyrics`    | –¢–µ–∫—Å—Ç –ø–µ—Å–Ω–∏ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∫—É–ø–ª–µ—Ç–æ–≤ |
| POST  | `/songs`                | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ø–µ—Å–Ω–∏            |
| PUT   | `/songs/{id}`           | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Å–Ω–∏           |
| DELETE| `/songs/{id}`           | –£–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Å–Ω–∏                    |

### üìÑ –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (POST /songs)
```json
{
    "group": "Muse",
    "song": "Supermassive Black Hole"
}
```

---

## üìä Swagger Docs
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞:  
üîó [http://localhost:8080/swagger/index.html](http://localhost:8080/swagger/index.html)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã
go test -v ./...

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (—Ç—Ä–µ–±—É–µ—Ç Docker)
make test-integration
```

---

## üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
Music-Library-API/
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îî‚îÄ‚îÄ main.go          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ api/             # HTTP-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ db/              # –ú–∏–≥—Ä–∞—Ü–∏–∏ + —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ models/          # –°—É—â–Ω–æ—Å—Ç–∏ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ service/         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ migrations/          # SQL-–º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ pkg/                 # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
‚îî‚îÄ‚îÄ docs/                # Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ —Ñ–∞–π–ª–µ LICENSE.
